<%- include header %>
    <style>
      img.thumb {
        height: 60px;
      }
      .para .thumbnail {
       border: none; 
      }
      .para h3 {
        text-align: center;
        font-size:14px;
        line-height: 1;
      }
      .para .caption {
        padding: 0px;
      }
    </style>
  </head>
  
  <body>
    <header class="navbar navbar-inverse" role="banner">
      <div class="container">
        <div class="navbar-header">
          <a href="../" class="navbar-brand">微信导航</a>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li class="active">
              <a href="/">首页</a>
            </li>
          </ul>
          <form class="navbar-form navbar-right" action='/search' method='post'>
            <input type="text" id="publicStr" name="publicStr" class="form-control" placeholder="请输入公众号..." >
            <button type="submit" class="btn btn-success">搜索</button>
          </form>
        </nav>
      </div>
    </header>
    <div class="container">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">搜索结果：</h4>
          </div>
          <%
            var length = wxPublicUsers.length;
            if(length <1 ){
          %>
          <h3>没有查询到符合的结果</h3>
          <%
            }else{
          %>
          <div class="panel-body para">
            <%
              var i;
              var mol = 6;

              var rowNumber;
              var rowLine;
              if(length <= mol){
                rowLine= 1;
                rowNumber= length;
              }else if(length > mol && length < mol*2){
                rowLine = 2;
                rowNumber = length - mol;
              }else{
                  rowLine = 2;
                  rowNumber = mol;
              }
              for(i = 0; i< rowLine; i++){
            %>
            <div class="row">
              <%  var j;
                  var thisNumber = mol;
                  if(i == rowLine -1){
                     thisNumber = rowNumber;
                  }
                  for (j = 0; j < thisNumber; j++) {
                  var user = wxPublicUsers[i * mol + j];
              %>
              <div class="col-xs-6 col-md-2">
                <div class="thumbnail">
                  <img class="thumb" clcc data-src="holder.js/300x200" alt="default" src="<%= user.picturePath %>">
                  <div class="caption">
                    <h3><a  class='' href='/detail/<%= user._id %>'><%= user.name %></a></h3>
                  </div>
                </div>
              </div>
              <% } %>
            </div><!--row-->
            <% } %>
          </div><!--panel-body-->
          <% } %>
        </div><!--panel-->
    </div><!--container-->
  </body>

</html>